{"ast":null,"code":"var _s = $RefreshSig$();\nimport { t } from \"i18next\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport useFetch from \"@common/hooks/useFetch\";\nimport { formatDateTimeTable } from \"@common/utils/dateHelper\";\nimport ComTable from \"@components/common/ComTable\";\nimport { courseApi } from \"@services/apis/course\";\nfunction CheckinList(_ref) {\n  _s();\n  var _value$paginate;\n  let {\n    id,\n    reloadData\n  } = _ref;\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    courseId: id,\n    sort: \"count_checkin:desc\"\n  });\n  const {\n    loading,\n    value\n  } = useFetch(() => courseApi.getListCheckin(pagination), [pagination, reloadData]);\n  const onChangePagination = (currentPage, totalItemPerPage) => {\n    setPagination(curState => ({\n      ...curState,\n      page: currentPage,\n      limit: totalItemPerPage\n    }));\n  };\n  const handleSearch = keyWord => {\n    setPagination(curState => ({\n      ...curState,\n      page: 1,\n      keyword: keyWord === null || keyWord === void 0 ? void 0 : keyWord.trim()\n    }));\n  };\n  const columns = [{\n    title: t(\"managementCourses.list.checkin.userName\"),\n    dataIndex: \"username\",\n    align: \"center\"\n  }, {\n    title: t(\"managementCourses.list.checkin.numberCheckin\"),\n    dataIndex: \"countCheckin\",\n    align: \"center\"\n  }, {\n    title: t(\"managementCourses.list.checkin.firstTime\"),\n    dataIndex: \"firstTimeCheckin\",\n    align: \"center\",\n    render: time => /*#__PURE__*/React.createElement(\"span\", null, formatDateTimeTable(time))\n  }, {\n    title: t(\"managementCourses.list.checkin.lastTime\"),\n    dataIndex: \"lastTimeCheckin\",\n    align: \"center\",\n    render: time => /*#__PURE__*/React.createElement(\"span\", null, formatDateTimeTable(time))\n  }, {\n    title: t(\"managementCourses.list.checkin.eventName\"),\n    dataIndex: \"eventname\",\n    align: \"center\"\n  }];\n  const totalPage = value === null || value === void 0 ? void 0 : (_value$paginate = value.paginate) === null || _value$paginate === void 0 ? void 0 : _value$paginate.totalPage;\n  const paginationProp = {\n    position: [\"bottomRight\"],\n    total: totalPage * pagination.limit,\n    showSizeChanger: true,\n    onChange: onChangePagination,\n    current: pagination.page\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, value ? /*#__PURE__*/React.createElement(ComTable, {\n    title: t(\"managementCourses.titleTableCheckin\"),\n    maxWidth: 900,\n    columns: columns,\n    loading: loading,\n    data: (value === null || value === void 0 ? void 0 : value.data) || [],\n    pagination: paginationProp,\n    onSearch: handleSearch\n  }) : null);\n}\n_s(CheckinList, \"2ArKvHytpJjZsrAbsG8EtWzFdjw=\", false, function () {\n  return [useFetch];\n});\n_c = CheckinList;\nCheckinList.propTypes = {\n  id: PropTypes.number,\n  reloadData: PropTypes.bool\n};\nexport default CheckinList;\nvar _c;\n$RefreshReg$(_c, \"CheckinList\");","map":{"version":3,"mappings":"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","names":["t","PropTypes","React","useState","useFetch","formatDateTimeTable","ComTable","courseApi","CheckinList","id","reloadData","pagination","setPagination","page","limit","courseId","sort","loading","value","getListCheckin","onChangePagination","currentPage","totalItemPerPage","curState","handleSearch","keyWord","keyword","trim","columns","title","dataIndex","align","render","time","totalPage","paginate","paginationProp","position","total","showSizeChanger","onChange","current","maxWidth","data","onSearch","propTypes","number","bool"],"sources":["/home/huynd/animalwatch_admin/src/pages/manager/course/CheckinList.jsx"],"sourcesContent":["import { t } from \"i18next\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\n\nimport useFetch from \"@common/hooks/useFetch\";\nimport { formatDateTimeTable } from \"@common/utils/dateHelper\";\nimport ComTable from \"@components/common/ComTable\";\nimport { courseApi } from \"@services/apis/course\";\n\nfunction CheckinList({ id, reloadData }) {\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    courseId: id,\n    sort: \"count_checkin:desc\",\n  });\n\n  const { loading, value } = useFetch(\n    () => courseApi.getListCheckin(pagination),\n    [pagination, reloadData],\n  );\n\n  const onChangePagination = (currentPage, totalItemPerPage) => {\n    setPagination((curState) => ({\n      ...curState,\n      page: currentPage,\n      limit: totalItemPerPage,\n    }));\n  };\n\n  const handleSearch = (keyWord) => {\n    setPagination((curState) => ({\n      ...curState,\n      page: 1,\n      keyword: keyWord?.trim(),\n    }));\n  };\n\n  const columns = [\n    {\n      title: t(\"managementCourses.list.checkin.userName\"),\n      dataIndex: \"username\",\n      align: \"center\",\n    },\n    {\n      title: t(\"managementCourses.list.checkin.numberCheckin\"),\n      dataIndex: \"countCheckin\",\n      align: \"center\",\n    },\n    {\n      title: t(\"managementCourses.list.checkin.firstTime\"),\n      dataIndex: \"firstTimeCheckin\",\n      align: \"center\",\n      render: (time) => <span>{formatDateTimeTable(time)}</span>,\n    },\n    {\n      title: t(\"managementCourses.list.checkin.lastTime\"),\n      dataIndex: \"lastTimeCheckin\",\n      align: \"center\",\n      render: (time) => <span>{formatDateTimeTable(time)}</span>,\n    },\n    {\n      title: t(\"managementCourses.list.checkin.eventName\"),\n      dataIndex: \"eventname\",\n      align: \"center\",\n    },\n  ];\n\n  const totalPage = value?.paginate?.totalPage;\n  const paginationProp = {\n    position: [\"bottomRight\"],\n    total: totalPage * pagination.limit,\n    showSizeChanger: true,\n    onChange: onChangePagination,\n    current: pagination.page,\n  };\n\n  return (\n    <div>\n      {value ? (\n        <ComTable\n          title={t(\"managementCourses.titleTableCheckin\")}\n          maxWidth={900}\n          columns={columns}\n          loading={loading}\n          data={value?.data || []}\n          pagination={paginationProp}\n          onSearch={handleSearch}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nCheckinList.propTypes = {\n  id: PropTypes.number,\n  reloadData: PropTypes.bool,\n};\n\nexport default CheckinList;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}