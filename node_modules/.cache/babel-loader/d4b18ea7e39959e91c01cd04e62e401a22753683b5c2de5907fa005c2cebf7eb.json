{"ast":null,"code":"var _s = $RefreshSig$();\nimport { Button, ColorPicker } from \"antd\";\nimport { t } from \"i18next\";\nimport React, { useState } from \"react\";\nimport PATH_URL from \"@common/config/pathURL\";\nimport useFetch from \"@common/hooks/useFetch\";\nimport ComTable from \"@components/common/ComTable\";\nimport { levelApi } from \"@services/apis/level\";\nimport { useNavigate } from \"react-router-dom\";\nfunction LevelList() {\n  _s();\n  var _value$paginate;\n  const navigate = useNavigate();\n  const [refetch, setRefetch] = useState(false);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    keyword: \"\"\n  });\n  const {\n    loading,\n    value\n  } = useFetch(ourRequest => levelApi.getLevels(pagination, ourRequest), [pagination, refetch]);\n  const handleSearch = keyWord => {\n    setPagination(curState => ({\n      ...curState,\n      keyword: keyWord === null || keyWord === void 0 ? void 0 : keyWord.trim(),\n      page: 1\n    }));\n  };\n  const handleChangeTable = (currentPage, totalItemPerPage) => {\n    setPagination(curState => ({\n      ...curState,\n      page: currentPage,\n      limit: totalItemPerPage\n    }));\n  };\n  const handleCreate = () => {\n    navigate(PATH_URL.USERTAG_MANAGERMENT.CREATE);\n  };\n  const handleEditLevel = (e, level) => {\n    e.stopPropagation();\n    navigate(PATH_URL.USERTAG_MANAGERMENT.EDIT, {\n      state: level\n    });\n  };\n  const columns = [{\n    title: t(\"levelManagement.list.id\"),\n    dataIndex: \"id\",\n    align: \"center\",\n    width: 120\n  }, {\n    title: t(\"levelManagement.list.title\"),\n    dataIndex: \"name\",\n    align: \"center\",\n    render: values => values === null || values === void 0 ? void 0 : values.toUpperCase(),\n    sortDirections: [\"ascend\"]\n  }, {\n    title: t(\"levelManagement.list.background\"),\n    dataIndex: \"color\",\n    align: \"center\",\n    render: values => {\n      return /*#__PURE__*/React.createElement(ColorPicker, {\n        showText: true,\n        defaultValue: values,\n        open: false\n      });\n    },\n    sortDirections: [\"ascend\"]\n  }, {\n    title: t(\"levelManagement.list.action\"),\n    align: \"center\",\n    width: 300,\n    render: level => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"full-height full-width\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      className: \"mr-10\",\n      onClick: e => handleEditLevel(e, level)\n    }, t(\"table.btnEdit\")))\n  }];\n  const totalPage = value === null || value === void 0 ? void 0 : (_value$paginate = value.paginate) === null || _value$paginate === void 0 ? void 0 : _value$paginate.totalPage;\n  const paginationProps = {\n    position: [\"bottomRight\"],\n    total: totalPage * 10,\n    current: pagination.page,\n    showSizeChanger: true,\n    onChange: handleChangeTable\n  };\n  return /*#__PURE__*/React.createElement(ComTable, {\n    title: t(\"levelManagement.title\"),\n    loading: loading,\n    columns: columns,\n    data: value === null || value === void 0 ? void 0 : value.data,\n    pagination: paginationProps,\n    onAddTable: handleCreate,\n    onSearch: handleSearch\n  });\n}\n_s(LevelList, \"lh2BU8qi241iI/wTmUImrMH0dYc=\", false, function () {\n  return [useNavigate, useFetch];\n});\n_c = LevelList;\nexport default LevelList;\nvar _c;\n$RefreshReg$(_c, \"LevelList\");","map":{"version":3,"mappings":"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","names":["Button","ColorPicker","t","React","useState","PATH_URL","useFetch","ComTable","levelApi","useNavigate","LevelList","navigate","refetch","setRefetch","pagination","setPagination","page","limit","keyword","loading","value","ourRequest","getLevels","handleSearch","keyWord","curState","trim","handleChangeTable","currentPage","totalItemPerPage","handleCreate","USERTAG_MANAGERMENT","CREATE","handleEditLevel","e","level","stopPropagation","EDIT","state","columns","title","dataIndex","align","width","render","values","toUpperCase","sortDirections","showText","defaultValue","open","className","type","onClick","totalPage","paginate","paginationProps","position","total","current","showSizeChanger","onChange","data","onAddTable","onSearch"],"sources":["/home/huynd/animalwatch_admin/src/pages/manager/level/LevelList.jsx"],"sourcesContent":["import { Button, ColorPicker } from \"antd\";\nimport { t } from \"i18next\";\nimport React, { useState } from \"react\";\n\nimport PATH_URL from \"@common/config/pathURL\";\nimport useFetch from \"@common/hooks/useFetch\";\nimport ComTable from \"@components/common/ComTable\";\nimport { levelApi } from \"@services/apis/level\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction LevelList() {\n  const navigate = useNavigate();\n  const [refetch, setRefetch] = useState(false);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    keyword: \"\",\n  });\n\n  const { loading, value } = useFetch(\n    (ourRequest) => levelApi.getLevels(pagination, ourRequest),\n    [pagination, refetch],\n  );\n\n  const handleSearch = (keyWord) => {\n    setPagination((curState) => ({\n      ...curState,\n      keyword: keyWord?.trim(),\n      page: 1,\n    }));\n  };\n\n  const handleChangeTable = (currentPage, totalItemPerPage) => {\n    setPagination((curState) => ({\n      ...curState,\n      page: currentPage,\n      limit: totalItemPerPage,\n    }));\n  };\n\n  const handleCreate = () => {\n    navigate(PATH_URL.USERTAG_MANAGERMENT.CREATE);\n  };\n\n  const handleEditLevel = (e, level) => {\n    e.stopPropagation();\n    navigate(PATH_URL.USERTAG_MANAGERMENT.EDIT, { state: level });\n  };\n\n  const columns = [\n    {\n      title: t(\"levelManagement.list.id\"),\n      dataIndex: \"id\",\n      align: \"center\",\n      width: 120,\n    },\n    {\n      title: t(\"levelManagement.list.title\"),\n      dataIndex: \"name\",\n      align: \"center\",\n      render: (values) => values?.toUpperCase(),\n      sortDirections: [\"ascend\"],\n    },\n    {\n      title: t(\"levelManagement.list.background\"),\n      dataIndex: \"color\",\n      align: \"center\",\n      render: (values) => {\n        return <ColorPicker showText defaultValue={values} open={false} />;\n      },\n      sortDirections: [\"ascend\"],\n    },\n    {\n      title: t(\"levelManagement.list.action\"),\n      align: \"center\",\n      width: 300,\n      render: (level) => (\n        <div className=\"full-height full-width\">\n          <Button\n            type=\"primary\"\n            className=\"mr-10\"\n            onClick={(e) => handleEditLevel(e, level)}\n          >\n            {t(\"table.btnEdit\")}\n          </Button>\n        </div>\n      ),\n    },\n  ];\n\n  const totalPage = value?.paginate?.totalPage;\n  const paginationProps = {\n    position: [\"bottomRight\"],\n    total: totalPage * 10,\n    current: pagination.page,\n    showSizeChanger: true,\n    onChange: handleChangeTable,\n  };\n\n  return (\n    <ComTable\n      title={t(\"levelManagement.title\")}\n      loading={loading}\n      columns={columns}\n      data={value?.data}\n      pagination={paginationProps}\n      onAddTable={handleCreate}\n      onSearch={handleSearch}\n    />\n  );\n}\n\nexport default LevelList;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}