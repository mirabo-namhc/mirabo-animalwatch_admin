{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport dayjs from \"dayjs\";\nimport { Avatar, Button, Col, Form, message, Row, Tag, Typography } from \"antd\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { t } from \"i18next\";\nimport { USER_YELLOW_TICK } from \"@common/constant/masterData\";\nimport { IMAGE_URL } from \"@common/config/endpoint\";\nimport { MyComponents } from \"@components/form\";\nimport { userApi } from \"@services/apis/user\";\nimport { convertSecondsToTime, disableAfterDateWithParams, disableBeforeDateWithParams, formatDateTimeTable } from \"@common/utils/dateHelper\";\nimport { DATE_FORMAT_DISPLAY } from \"@common/constant/date\";\nimport ComTable from \"@components/common/ComTable\";\nimport useFetch from \"@common/hooks/useFetch\";\nimport { usertagApi } from \"@services/apis/usertag\";\nimport { COMULUMN_RECORD_RIDE, COMULUMN_RECORD_RIDE_NO_DATE } from \"./Contants\";\nconst {\n  Paragraph\n} = Typography;\nfunction UserDetail() {\n  _s();\n  var _userData6, _userData7, _userData8, _userData9, _userData10, _user$profile, _user$code, _user$profile2, _user$profile3, _user$code2, _userData11, _userData11$role, _user$role;\n  const navigate = useNavigate();\n  let {\n    state: userData\n  } = useLocation();\n  const [tag, setTag] = useState(userData.tagId);\n  const [tick, setTick] = useState(userData.yellowTick ? 1 : 0);\n  const [loading, setLoading] = useState(false);\n  const [user, setUser] = useState();\n  const [statistic, setStatistic] = useState({});\n  const [isLoadingChangeStatic, setIsLoadingChangeStatic] = useState(false);\n  const [form] = Form.useForm();\n  const [listDeletedId, setListDeletedId] = useState([]);\n  const firstMonthLastDay = dayjs().subtract(1, \"month\").startOf(\"month\");\n  const lastMonthLastDay = dayjs().subtract(1, \"month\").endOf(\"month\");\n  const formatDayMonth = value => {\n    if (value) return dayjs(value).format(\"YYYY-MM-DD\");\n    return null;\n  };\n  const {\n    value: valueUserStatistic,\n    loading: loadingApi\n  } = useFetch(() => {\n    var _userData;\n    return userApi.getUserStatistic({\n      userId: (_userData = userData) === null || _userData === void 0 ? void 0 : _userData.id,\n      start: formatDayMonth(firstMonthLastDay),\n      end: formatDayMonth(lastMonthLastDay)\n    });\n  }, []);\n  const fetchDataTag = async condition => {\n    const response = await usertagApi.getUserTags(condition);\n    return response.data;\n  };\n  const handleChangeValue = () => {\n    const {\n      start,\n      end\n    } = form.getFieldsValue();\n    if (start && end) {\n      var _userData2;\n      setIsLoadingChangeStatic(true);\n      userApi.getUserStatistic({\n        userId: (_userData2 = userData) === null || _userData2 === void 0 ? void 0 : _userData2.id,\n        start: formatDayMonth(start),\n        end: formatDayMonth(end)\n      }).then(res => setStatistic(res)).finally(() => setIsLoadingChangeStatic(false));\n    }\n  };\n  const handleUpdateUser = () => {\n    var _userData3, _userData4;\n    setLoading(true);\n    userApi.patchUserTag({\n      id: (_userData3 = userData) === null || _userData3 === void 0 ? void 0 : _userData3.id,\n      tag: tag || null\n    }).then(res => {\n      if (res.success) {\n        message.success(t(\"managementUser.message.editSuccess\"));\n        navigate(\"..\");\n      }\n    }).catch(err => {\n      message.error(t(\"managementUser.message.editErr\"));\n      throw new Error(err);\n    }).finally(() => setLoading(false));\n    userApi.patchUserTick((_userData4 = userData) === null || _userData4 === void 0 ? void 0 : _userData4.id, {\n      tick\n    });\n  };\n  const handleConvertData = data => {\n    const newData = {\n      ...data,\n      distant: `${(data === null || data === void 0 ? void 0 : data.distant) || 0} km`,\n      speedAvg: `${(data === null || data === void 0 ? void 0 : data.speedAvg) || 0} km/h`,\n      height: `${(data === null || data === void 0 ? void 0 : data.height) || 0} m`,\n      kcal: `${(data === null || data === void 0 ? void 0 : data.kcal) || 0} kcal`,\n      totalEventParticipations: data !== null && data !== void 0 && data.totalEventParticipations || (data === null || data === void 0 ? void 0 : data.totalEventParticipations) === 0 ? `${data === null || data === void 0 ? void 0 : data.totalEventParticipations}回` : \"\",\n      totalRide: data !== null && data !== void 0 && data.totalRide || (data === null || data === void 0 ? void 0 : data.totalRide) === 0 ? `${data === null || data === void 0 ? void 0 : data.totalRide}回` : null,\n      time: convertSecondsToTime(data === null || data === void 0 ? void 0 : data.time)\n    };\n    return newData;\n  };\n  useEffect(() => {\n    if (!userData) {\n      navigate(\"..\");\n    }\n  }, [userData]);\n  useEffect(() => {\n    (async () => {\n      try {\n        var _userData5;\n        const res = await userApi.getUser({\n          id: (_userData5 = userData) === null || _userData5 === void 0 ? void 0 : _userData5.id\n        });\n        if (!res) return;\n        userData = {\n          ...userData,\n          ...res\n        };\n        setUser(res);\n      } catch (error) {\n        throw new Error(error);\n      }\n    })();\n  }, [(_userData6 = userData) === null || _userData6 === void 0 ? void 0 : _userData6.id]);\n  useEffect(() => {\n    form.setFieldsValue({\n      start: firstMonthLastDay,\n      end: lastMonthLastDay\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Row, {\n    align: \"middle\",\n    className: \"header-table full-width\"\n  }, /*#__PURE__*/React.createElement(\"h1\", null, t(\"managementUser.detail\"))), /*#__PURE__*/React.createElement(Col, {\n    span: 12\n  }, /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Avatar, {\n    shape: \"square\",\n    size: 160,\n    src: `${IMAGE_URL}${((_userData7 = userData) === null || _userData7 === void 0 ? void 0 : _userData7.avatar) || (user === null || user === void 0 ? void 0 : user.avatar)}/original.jpg`\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"pl-20\"\n  }, /*#__PURE__*/React.createElement(Paragraph, {\n    level: 5\n  }, t(\"managementUser.table.id\"), \": \", ((_userData8 = userData) === null || _userData8 === void 0 ? void 0 : _userData8.id) || (user === null || user === void 0 ? void 0 : user.id) || '\"'), /*#__PURE__*/React.createElement(Paragraph, {\n    level: 5\n  }, t(\"managementUser.table.name\"), \":\", \" \", ((_userData9 = userData) === null || _userData9 === void 0 ? void 0 : _userData9.fullname) || (user === null || user === void 0 ? void 0 : user.fullname) || '\"'), /*#__PURE__*/React.createElement(Paragraph, null, t(\"managementUser.table.email\"), \":\", \" \", ((_userData10 = userData) === null || _userData10 === void 0 ? void 0 : _userData10.email) || (user === null || user === void 0 ? void 0 : user.email)), /*#__PURE__*/React.createElement(Paragraph, null, t(\"managementUser.table.address\"), \":\", \" \", (user === null || user === void 0 ? void 0 : (_user$profile = user.profile) === null || _user$profile === void 0 ? void 0 : _user$profile.address) || '\"'), /*#__PURE__*/React.createElement(Paragraph, null, t(\"managementUser.table.codeUsed\"), \": \", (user === null || user === void 0 ? void 0 : (_user$code = user.code) === null || _user$code === void 0 ? void 0 : _user$code.code) || '\"')))), /*#__PURE__*/React.createElement(Col, {\n    span: 12\n  }, /*#__PURE__*/React.createElement(Paragraph, null, t(\"managementUser.table.phoneNumber\"), \":\", \" \", (user === null || user === void 0 ? void 0 : (_user$profile2 = user.profile) === null || _user$profile2 === void 0 ? void 0 : _user$profile2.phoneNumber) || '\"'), /*#__PURE__*/React.createElement(Paragraph, null, t(\"managementUser.table.birthday\"), \":\", \" \", formatDateTimeTable(user === null || user === void 0 ? void 0 : (_user$profile3 = user.profile) === null || _user$profile3 === void 0 ? void 0 : _user$profile3.birthday, DATE_FORMAT_DISPLAY) || '\"'), /*#__PURE__*/React.createElement(Paragraph, null, t(\"managementUser.table.timesUserJoined\"), \": \", user === null || user === void 0 ? void 0 : user.totalParticipated), /*#__PURE__*/React.createElement(Paragraph, null, t(\"managementUser.table.codeExpirationDate\"), \":\", \" \", formatDateTimeTable(user === null || user === void 0 ? void 0 : (_user$code2 = user.code) === null || _user$code2 === void 0 ? void 0 : _user$code2.expirationDate) || '\"'), /*#__PURE__*/React.createElement(Paragraph, null, t(\"managementUser.table.role\"), \":\", \" \", /*#__PURE__*/React.createElement(Tag, null, ((_userData11 = userData) === null || _userData11 === void 0 ? void 0 : (_userData11$role = _userData11.role) === null || _userData11$role === void 0 ? void 0 : _userData11$role.roleName) || (user === null || user === void 0 ? void 0 : (_user$role = user.role) === null || _user$role === void 0 ? void 0 : _user$role.roleName))), /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Col, {\n    span: 6\n  }, /*#__PURE__*/React.createElement(Paragraph, null, t(\"managementUser.table.userTag\"), \":\")), /*#__PURE__*/React.createElement(Col, {\n    span: 12\n  }, /*#__PURE__*/React.createElement(MyComponents.SelectScrollLoading, {\n    value: tag,\n    returnOption: item => ({\n      key: item === null || item === void 0 ? void 0 : item.id,\n      label: item === null || item === void 0 ? void 0 : item.name,\n      value: item === null || item === void 0 ? void 0 : item.id\n    }),\n    fetchData: fetchDataTag,\n    setListDeletedId: setListDeletedId,\n    listDeletedId: listDeletedId,\n    onChange: value => setTag(value),\n    limit: 50\n  }))), /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Col, {\n    span: 6\n  }, /*#__PURE__*/React.createElement(Paragraph, null, t(\"managementUser.table.userTick\"), \":\")), /*#__PURE__*/React.createElement(Col, {\n    span: 12\n  }, /*#__PURE__*/React.createElement(MyComponents.Select, {\n    value: tick,\n    listOptions: USER_YELLOW_TICK,\n    onChange: value => setTick(value)\n  })))), /*#__PURE__*/React.createElement(Col, {\n    span: 24\n  }, /*#__PURE__*/React.createElement(Row, {\n    justify: \"end\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleUpdateUser,\n    type: \"primary\",\n    loading: loading,\n    disabled: loading || tag === userData.tag && !!tick === userData.yellowTick\n  }, t(\"table.btnEdit\")))), /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    className: \"mt-20\"\n  }, /*#__PURE__*/React.createElement(ComTable, {\n    title: t(\"managementUser.rideRecord\"),\n    columns: COMULUMN_RECORD_RIDE_NO_DATE,\n    loading: isLoadingChangeStatic,\n    data: Object.keys(statistic).length ? [handleConvertData(statistic === null || statistic === void 0 ? void 0 : statistic.lastFiveRecords), handleConvertData(statistic === null || statistic === void 0 ? void 0 : statistic.cumulative)] : [handleConvertData(valueUserStatistic === null || valueUserStatistic === void 0 ? void 0 : valueUserStatistic.lastFiveRecords), handleConvertData(valueUserStatistic === null || valueUserStatistic === void 0 ? void 0 : valueUserStatistic.cumulative)]\n  })), /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    className: \"mt-20\"\n  }, /*#__PURE__*/React.createElement(Form, {\n    form: form\n  }, /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Col, null, /*#__PURE__*/React.createElement(MyComponents.DatePicker, {\n    name: \"start\",\n    disableDate: currentDate => {\n      const {\n        end\n      } = form.getFieldsValue();\n      return disableAfterDateWithParams(currentDate, dayjs()) || disableAfterDateWithParams(currentDate, end);\n    },\n    defaultPickerValue: firstMonthLastDay,\n    defaultValue: firstMonthLastDay\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pt-5\"\n  }, \"~\"), /*#__PURE__*/React.createElement(Col, null, /*#__PURE__*/React.createElement(MyComponents.DatePicker, {\n    name: \"end\",\n    disableDate: currentDate => {\n      const {\n        start\n      } = form.getFieldsValue();\n      return disableAfterDateWithParams(currentDate, dayjs()) || disableBeforeDateWithParams(currentDate, start);\n    },\n    defaultPickerValue: lastMonthLastDay,\n    defaultValue: lastMonthLastDay\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"ml-10\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => handleChangeValue()\n  }, \"\\u30C7\\u30FC\\u30BF\\u51FA\\u529B\")))), /*#__PURE__*/React.createElement(ComTable, {\n    title: t(\"managementUser.rideRecord\"),\n    columns: COMULUMN_RECORD_RIDE,\n    loading: loadingApi || isLoadingChangeStatic,\n    data: Object.keys(statistic).length ? [handleConvertData(statistic === null || statistic === void 0 ? void 0 : statistic.highestValue), handleConvertData(statistic === null || statistic === void 0 ? void 0 : statistic.totalValue)] : [handleConvertData(valueUserStatistic === null || valueUserStatistic === void 0 ? void 0 : valueUserStatistic.highestValue), handleConvertData(valueUserStatistic === null || valueUserStatistic === void 0 ? void 0 : valueUserStatistic.totalValue)]\n  })));\n}\n_s(UserDetail, \"AqNTNcitm0/p2jAobR3RZeJypTs=\", false, function () {\n  return [useNavigate, useLocation, Form.useForm, useFetch];\n});\n_c = UserDetail;\nUserDetail.propTypes = {};\nexport default UserDetail;\nvar _c;\n$RefreshReg$(_c, \"UserDetail\");","map":{"version":3,"mappings":"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","names":["React","useEffect","useState","dayjs","Avatar","Button","Col","Form","message","Row","Tag","Typography","useLocation","useNavigate","t","USER_YELLOW_TICK","IMAGE_URL","MyComponents","userApi","convertSecondsToTime","disableAfterDateWithParams","disableBeforeDateWithParams","formatDateTimeTable","DATE_FORMAT_DISPLAY","ComTable","useFetch","usertagApi","COMULUMN_RECORD_RIDE","COMULUMN_RECORD_RIDE_NO_DATE","Paragraph","UserDetail","navigate","state","userData","tag","setTag","tagId","tick","setTick","yellowTick","loading","setLoading","user","setUser","statistic","setStatistic","isLoadingChangeStatic","setIsLoadingChangeStatic","form","useForm","listDeletedId","setListDeletedId","firstMonthLastDay","subtract","startOf","lastMonthLastDay","endOf","formatDayMonth","value","format","valueUserStatistic","loadingApi","getUserStatistic","userId","id","start","end","fetchDataTag","condition","response","getUserTags","data","handleChangeValue","getFieldsValue","then","res","finally","handleUpdateUser","patchUserTag","success","catch","err","error","Error","patchUserTick","handleConvertData","newData","distant","speedAvg","height","kcal","totalEventParticipations","totalRide","time","getUser","setFieldsValue","align","className","span","shape","size","src","avatar","level","fullname","email","profile","address","code","phoneNumber","birthday","totalParticipated","expirationDate","role","roleName","SelectScrollLoading","returnOption","item","key","label","name","fetchData","onChange","limit","Select","listOptions","justify","onClick","type","disabled","title","columns","Object","keys","length","lastFiveRecords","cumulative","DatePicker","disableDate","currentDate","defaultPickerValue","defaultValue","highestValue","totalValue","propTypes"],"sources":["/home/huynd/animalwatch_admin/src/pages/manager/user/UserDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport dayjs from \"dayjs\";\nimport { Avatar, Button, Col, Form, message, Row, Tag, Typography } from \"antd\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { t } from \"i18next\";\nimport { USER_YELLOW_TICK } from \"@common/constant/masterData\";\nimport { IMAGE_URL } from \"@common/config/endpoint\";\nimport { MyComponents } from \"@components/form\";\nimport { userApi } from \"@services/apis/user\";\nimport {\n  convertSecondsToTime,\n  disableAfterDateWithParams,\n  disableBeforeDateWithParams,\n  formatDateTimeTable,\n} from \"@common/utils/dateHelper\";\nimport { DATE_FORMAT_DISPLAY } from \"@common/constant/date\";\nimport ComTable from \"@components/common/ComTable\";\nimport useFetch from \"@common/hooks/useFetch\";\nimport { usertagApi } from \"@services/apis/usertag\";\nimport { COMULUMN_RECORD_RIDE, COMULUMN_RECORD_RIDE_NO_DATE } from \"./Contants\";\n\nconst { Paragraph } = Typography;\nfunction UserDetail() {\n  const navigate = useNavigate();\n  let { state: userData } = useLocation();\n  const [tag, setTag] = useState(userData.tagId);\n  const [tick, setTick] = useState(userData.yellowTick ? 1 : 0);\n  const [loading, setLoading] = useState(false);\n  const [user, setUser] = useState();\n  const [statistic, setStatistic] = useState({});\n  const [isLoadingChangeStatic, setIsLoadingChangeStatic] = useState(false);\n  const [form] = Form.useForm();\n  const [listDeletedId, setListDeletedId] = useState([]);\n\n  const firstMonthLastDay = dayjs().subtract(1, \"month\").startOf(\"month\");\n  const lastMonthLastDay = dayjs().subtract(1, \"month\").endOf(\"month\");\n\n  const formatDayMonth = (value) => {\n    if (value) return dayjs(value).format(\"YYYY-MM-DD\");\n    return null;\n  };\n\n  const { value: valueUserStatistic, loading: loadingApi } = useFetch(\n    () =>\n      userApi.getUserStatistic({\n        userId: userData?.id,\n        start: formatDayMonth(firstMonthLastDay),\n        end: formatDayMonth(lastMonthLastDay),\n      }),\n    [],\n  );\n\n  const fetchDataTag = async (condition) => {\n    const response = await usertagApi.getUserTags(condition);\n    return response.data;\n  };\n\n  const handleChangeValue = () => {\n    const { start, end } = form.getFieldsValue();\n\n    if (start && end) {\n      setIsLoadingChangeStatic(true);\n      userApi\n        .getUserStatistic({\n          userId: userData?.id,\n          start: formatDayMonth(start),\n          end: formatDayMonth(end),\n        })\n        .then((res) => setStatistic(res))\n        .finally(() => setIsLoadingChangeStatic(false));\n    }\n  };\n\n  const handleUpdateUser = () => {\n    setLoading(true);\n    userApi\n      .patchUserTag({\n        id: userData?.id,\n        tag: tag || null,\n      })\n      .then((res) => {\n        if (res.success) {\n          message.success(t(\"managementUser.message.editSuccess\"));\n          navigate(\"..\");\n        }\n      })\n      .catch((err) => {\n        message.error(t(\"managementUser.message.editErr\"));\n        throw new Error(err);\n      })\n      .finally(() => setLoading(false));\n\n    userApi.patchUserTick(userData?.id, { tick });\n  };\n\n  const handleConvertData = (data) => {\n    const newData = {\n      ...data,\n      distant: `${data?.distant || 0} km`,\n      speedAvg: `${data?.speedAvg || 0} km/h`,\n      height: `${data?.height || 0} m`,\n      kcal: `${data?.kcal || 0} kcal`,\n      totalEventParticipations:\n        data?.totalEventParticipations || data?.totalEventParticipations === 0\n          ? `${data?.totalEventParticipations}回`\n          : \"\",\n      totalRide:\n        data?.totalRide || data?.totalRide === 0\n          ? `${data?.totalRide}回`\n          : null,\n      time: convertSecondsToTime(data?.time),\n    };\n    return newData;\n  };\n\n  useEffect(() => {\n    if (!userData) {\n      navigate(\"..\");\n    }\n  }, [userData]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await userApi.getUser({ id: userData?.id });\n\n        if (!res) return;\n        userData = { ...userData, ...res };\n        setUser(res);\n      } catch (error) {\n        throw new Error(error);\n      }\n    })();\n  }, [userData?.id]);\n\n  useEffect(() => {\n    form.setFieldsValue({ start: firstMonthLastDay, end: lastMonthLastDay });\n  }, []);\n\n  return (\n    <Row>\n      <Row align=\"middle\" className=\"header-table full-width\">\n        <h1>{t(\"managementUser.detail\")}</h1>\n      </Row>\n      <Col span={12}>\n        <Row>\n          <Avatar\n            shape=\"square\"\n            size={160}\n            src={`${IMAGE_URL}${userData?.avatar || user?.avatar}/original.jpg`}\n          />\n          <Col className=\"pl-20\">\n            <Paragraph level={5}>\n              {t(\"managementUser.table.id\")}: {userData?.id || user?.id || '\"'}\n            </Paragraph>\n            <Paragraph level={5}>\n              {t(\"managementUser.table.name\")}:{\" \"}\n              {userData?.fullname || user?.fullname || '\"'}\n            </Paragraph>\n            <Paragraph>\n              {t(\"managementUser.table.email\")}:{\" \"}\n              {userData?.email || user?.email}\n            </Paragraph>\n            <Paragraph>\n              {t(\"managementUser.table.address\")}:{\" \"}\n              {user?.profile?.address || '\"'}\n            </Paragraph>\n            <Paragraph>\n              {t(\"managementUser.table.codeUsed\")}: {user?.code?.code || '\"'}\n            </Paragraph>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={12}>\n        <Paragraph>\n          {t(\"managementUser.table.phoneNumber\")}:{\" \"}\n          {user?.profile?.phoneNumber || '\"'}\n        </Paragraph>\n        <Paragraph>\n          {t(\"managementUser.table.birthday\")}:{\" \"}\n          {formatDateTimeTable(user?.profile?.birthday, DATE_FORMAT_DISPLAY) ||\n            '\"'}\n        </Paragraph>\n        <Paragraph>\n          {t(\"managementUser.table.timesUserJoined\")}: {user?.totalParticipated}\n        </Paragraph>\n        <Paragraph>\n          {t(\"managementUser.table.codeExpirationDate\")}:{\" \"}\n          {formatDateTimeTable(user?.code?.expirationDate) || '\"'}\n        </Paragraph>\n        <Paragraph>\n          {t(\"managementUser.table.role\")}:{\" \"}\n          <Tag>{userData?.role?.roleName || user?.role?.roleName}</Tag>\n        </Paragraph>\n        <Row>\n          <Col span={6}>\n            <Paragraph>{t(\"managementUser.table.userTag\")}:</Paragraph>\n          </Col>\n          <Col span={12}>\n            <MyComponents.SelectScrollLoading\n              value={tag}\n              returnOption={(item) => ({\n                key: item?.id,\n                label: item?.name,\n                value: item?.id,\n              })}\n              fetchData={fetchDataTag}\n              setListDeletedId={setListDeletedId}\n              listDeletedId={listDeletedId}\n              onChange={(value) => setTag(value)}\n              limit={50}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col span={6}>\n            <Paragraph>{t(\"managementUser.table.userTick\")}:</Paragraph>\n          </Col>\n          <Col span={12}>\n            <MyComponents.Select\n              value={tick}\n              listOptions={USER_YELLOW_TICK}\n              onChange={(value) => setTick(value)}\n            />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row justify=\"end\">\n          <Button\n            onClick={handleUpdateUser}\n            type=\"primary\"\n            loading={loading}\n            disabled={\n              loading ||\n              (tag === userData.tag && !!tick === userData.yellowTick)\n            }\n          >\n            {t(\"table.btnEdit\")}\n          </Button>\n        </Row>\n      </Col>\n\n      <Col span={24} className=\"mt-20\">\n        <ComTable\n          title={t(\"managementUser.rideRecord\")}\n          columns={COMULUMN_RECORD_RIDE_NO_DATE}\n          loading={isLoadingChangeStatic}\n          data={\n            Object.keys(statistic).length\n              ? [\n                  handleConvertData(statistic?.lastFiveRecords),\n                  handleConvertData(statistic?.cumulative),\n                ]\n              : [\n                  handleConvertData(valueUserStatistic?.lastFiveRecords),\n                  handleConvertData(valueUserStatistic?.cumulative),\n                ]\n          }\n        />\n      </Col>\n\n      <Col span={24} className=\"mt-20\">\n        <Form form={form}>\n          <Row>\n            <Col>\n              <MyComponents.DatePicker\n                name=\"start\"\n                disableDate={(currentDate) => {\n                  const { end } = form.getFieldsValue();\n                  return (\n                    disableAfterDateWithParams(currentDate, dayjs()) ||\n                    disableAfterDateWithParams(currentDate, end)\n                  );\n                }}\n                defaultPickerValue={firstMonthLastDay}\n                defaultValue={firstMonthLastDay}\n              />\n            </Col>\n            <span className=\"pt-5\">~</span>\n            <Col>\n              <MyComponents.DatePicker\n                name=\"end\"\n                disableDate={(currentDate) => {\n                  const { start } = form.getFieldsValue();\n                  return (\n                    disableAfterDateWithParams(currentDate, dayjs()) ||\n                    disableBeforeDateWithParams(currentDate, start)\n                  );\n                }}\n                defaultPickerValue={lastMonthLastDay}\n                defaultValue={lastMonthLastDay}\n              />\n            </Col>\n            <Col className=\"ml-10\">\n              <Button onClick={() => handleChangeValue()}>データ出力</Button>\n            </Col>\n          </Row>\n        </Form>\n        <ComTable\n          title={t(\"managementUser.rideRecord\")}\n          columns={COMULUMN_RECORD_RIDE}\n          loading={loadingApi || isLoadingChangeStatic}\n          data={\n            Object.keys(statistic).length\n              ? [\n                  handleConvertData(statistic?.highestValue),\n                  handleConvertData(statistic?.totalValue),\n                ]\n              : [\n                  handleConvertData(valueUserStatistic?.highestValue),\n                  handleConvertData(valueUserStatistic?.totalValue),\n                ]\n          }\n        />\n      </Col>\n    </Row>\n  );\n}\n\nUserDetail.propTypes = {};\n\nexport default UserDetail;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}