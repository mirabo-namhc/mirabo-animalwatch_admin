{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Form } from \"antd\";\nimport { t } from \"i18next\";\nimport { Link } from \"react-router-dom\";\nimport { validate } from \"@validate/index\";\nimport logoCC from \"@assets/imgs/CCLogo.png\";\nimport ComTextField from \"@components/form/MyInputField\";\nimport PATH_URL from \"@common/config/pathURL\";\nimport { authApi } from \"@services/apis/auth\";\nfunction SendMailSuccess(_ref) {\n  let {\n    email\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Form, {\n    className: \"login-form flex-center flex-column\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-10 fz-20\"\n  }, t(\"auth.message.sendSuccessCode\")), /*#__PURE__*/React.createElement(Link, {\n    to: PATH_URL.RESET_PASSWORD,\n    state: {\n      email\n    }\n  }, t(\"auth.btnRedirectToReset\")));\n}\n_c = SendMailSuccess;\nfunction ForgotPassword() {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [emailSended, setEmailSended] = useState(\"\");\n  const handleSendMail = async _ref2 => {\n    let {\n      email\n    } = _ref2;\n    try {\n      setLoading(true);\n      const res = await authApi.forgotPassword({\n        email\n      });\n      if (!res.success) return;\n      setEmailSended(email);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      throw new Error(error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logoCC,\n    alt: \"logo\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"full-height flex-center px-30 mt-10\"\n  }, emailSended ? /*#__PURE__*/React.createElement(SendMailSuccess, {\n    email: emailSended\n  }) : /*#__PURE__*/React.createElement(Form, {\n    name: \"normal_login\",\n    className: \"login-form\",\n    layout: \"vertical\",\n    onFinish: handleSendMail\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"fz-23 mb-30 fw-400 color-black-light\"\n  }, t(\"auth.forgetPassword\")), /*#__PURE__*/React.createElement(ComTextField, {\n    name: \"email\",\n    clsInput: \"input-email\",\n    className: \"full-width\",\n    label: t(\"auth.emailAlready\"),\n    placeholder: t(\"auth.email\"),\n    rules: [validate.email(t)]\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"button-submit\",\n    loading: loading\n  }, t(\"auth.btnSend\")), /*#__PURE__*/React.createElement(Link, {\n    to: PATH_URL.LOGIN\n  }, t(\"auth.btnBackToLogin\")))));\n}\n_s(ForgotPassword, \"+psTHXYFIm2RzKpzEUISZ/N0uQU=\");\n_c2 = ForgotPassword;\nForgotPassword.propTypes = {};\nSendMailSuccess.propTypes = {\n  email: PropTypes.string\n};\nexport default ForgotPassword;\nvar _c, _c2;\n$RefreshReg$(_c, \"SendMailSuccess\");\n$RefreshReg$(_c2, \"ForgotPassword\");","map":{"version":3,"mappings":"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","names":["React","useState","PropTypes","Button","Form","t","Link","validate","logoCC","ComTextField","PATH_URL","authApi","SendMailSuccess","email","className","to","RESET_PASSWORD","state","ForgotPassword","loading","setLoading","emailSended","setEmailSended","handleSendMail","res","forgotPassword","success","error","Error","src","alt","name","layout","onFinish","clsInput","label","placeholder","rules","type","htmlType","LOGIN","propTypes","string"],"sources":["/home/huynd/animalwatch_admin/src/pages/auth/ForgotPassword.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Form } from \"antd\";\nimport { t } from \"i18next\";\nimport { Link } from \"react-router-dom\";\n\nimport { validate } from \"@validate/index\";\nimport logoCC from \"@assets/imgs/CCLogo.png\";\nimport ComTextField from \"@components/form/MyInputField\";\nimport PATH_URL from \"@common/config/pathURL\";\nimport { authApi } from \"@services/apis/auth\";\n\nfunction SendMailSuccess({ email }) {\n  return (\n    <Form className=\"login-form flex-center flex-column\">\n      <div className=\"mb-10 fz-20\">{t(\"auth.message.sendSuccessCode\")}</div>\n      <Link to={PATH_URL.RESET_PASSWORD} state={{ email }}>\n        {t(\"auth.btnRedirectToReset\")}\n      </Link>\n    </Form>\n  );\n}\n\nfunction ForgotPassword() {\n  const [loading, setLoading] = useState(false);\n  const [emailSended, setEmailSended] = useState(\"\");\n\n  const handleSendMail = async ({ email }) => {\n    try {\n      setLoading(true);\n      const res = await authApi.forgotPassword({ email });\n\n      if (!res.success) return;\n      setEmailSended(email);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      throw new Error(error);\n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"logo\">\n        <img src={logoCC} alt=\"logo\" />\n      </div>\n      <div className=\"full-height flex-center px-30 mt-10\">\n        {emailSended ? (\n          <SendMailSuccess email={emailSended} />\n        ) : (\n          <Form\n            name=\"normal_login\"\n            className=\"login-form\"\n            layout=\"vertical\"\n            onFinish={handleSendMail}\n          >\n            <h1 className=\"fz-23 mb-30 fw-400 color-black-light\">\n              {t(\"auth.forgetPassword\")}\n            </h1>\n\n            <ComTextField\n              name=\"email\"\n              clsInput=\"input-email\"\n              className=\"full-width\"\n              label={t(\"auth.emailAlready\")}\n              placeholder={t(\"auth.email\")}\n              rules={[validate.email(t)]}\n            />\n\n            <Button\n              type=\"primary\"\n              htmlType=\"submit\"\n              className=\"button-submit\"\n              loading={loading}\n            >\n              {t(\"auth.btnSend\")}\n            </Button>\n            <Link to={PATH_URL.LOGIN}>{t(\"auth.btnBackToLogin\")}</Link>\n          </Form>\n        )}\n      </div>\n    </div>\n  );\n}\n\nForgotPassword.propTypes = {};\nSendMailSuccess.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default ForgotPassword;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}