{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useForm;\nvar _rcFieldForm = require(\"rc-field-form\");\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _scrollIntoViewIfNeeded = _interopRequireDefault(require(\"scroll-into-view-if-needed\"));\nvar _util = require(\"../util\");\nfunction toNamePathStr(name) {\n  const namePath = (0, _util.toArray)(name);\n  return namePath.join('_');\n}\nfunction useForm(form) {\n  const [rcForm] = (0, _rcFieldForm.useForm)();\n  const itemsRef = React.useRef({});\n  const wrapForm = React.useMemo(() => form !== null && form !== void 0 ? form : Object.assign(Object.assign({}, rcForm), {\n    __INTERNAL__: {\n      itemRef: name => node => {\n        const namePathStr = toNamePathStr(name);\n        if (node) {\n          itemsRef.current[namePathStr] = node;\n        } else {\n          delete itemsRef.current[namePathStr];\n        }\n      }\n    },\n    scrollToField: function (name) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      const namePath = (0, _util.toArray)(name);\n      const fieldId = (0, _util.getFieldId)(namePath, wrapForm.__INTERNAL__.name);\n      const node = fieldId ? document.getElementById(fieldId) : null;\n      if (node) {\n        (0, _scrollIntoViewIfNeeded.default)(node, Object.assign({\n          scrollMode: 'if-needed',\n          block: 'nearest'\n        }, options));\n      }\n    },\n    getFieldInstance: name => {\n      const namePathStr = toNamePathStr(name);\n      return itemsRef.current[namePathStr];\n    }\n  }), [form, rcForm]);\n  return [wrapForm];\n}","map":{"version":3,"names":["_interopRequireDefault","require","default","_interopRequireWildcard","Object","defineProperty","exports","value","useForm","_rcFieldForm","React","_scrollIntoViewIfNeeded","_util","toNamePathStr","name","namePath","toArray","join","form","rcForm","itemsRef","useRef","wrapForm","useMemo","assign","__INTERNAL__","itemRef","node","namePathStr","current","scrollToField","options","arguments","length","undefined","fieldId","getFieldId","document","getElementById","scrollMode","block","getFieldInstance"],"sources":["/home/huynd/animalwatch_admin/node_modules/antd/lib/form/hooks/useForm.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useForm;\nvar _rcFieldForm = require(\"rc-field-form\");\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _scrollIntoViewIfNeeded = _interopRequireDefault(require(\"scroll-into-view-if-needed\"));\nvar _util = require(\"../util\");\nfunction toNamePathStr(name) {\n  const namePath = (0, _util.toArray)(name);\n  return namePath.join('_');\n}\nfunction useForm(form) {\n  const [rcForm] = (0, _rcFieldForm.useForm)();\n  const itemsRef = React.useRef({});\n  const wrapForm = React.useMemo(() => form !== null && form !== void 0 ? form : Object.assign(Object.assign({}, rcForm), {\n    __INTERNAL__: {\n      itemRef: name => node => {\n        const namePathStr = toNamePathStr(name);\n        if (node) {\n          itemsRef.current[namePathStr] = node;\n        } else {\n          delete itemsRef.current[namePathStr];\n        }\n      }\n    },\n    scrollToField: function (name) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      const namePath = (0, _util.toArray)(name);\n      const fieldId = (0, _util.getFieldId)(namePath, wrapForm.__INTERNAL__.name);\n      const node = fieldId ? document.getElementById(fieldId) : null;\n      if (node) {\n        (0, _scrollIntoViewIfNeeded.default)(node, Object.assign({\n          scrollMode: 'if-needed',\n          block: 'nearest'\n        }, options));\n      }\n    },\n    getFieldInstance: name => {\n      const namePathStr = toNamePathStr(name);\n      return itemsRef.current[namePathStr];\n    }\n  }), [form, rcForm]);\n  return [wrapForm];\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}