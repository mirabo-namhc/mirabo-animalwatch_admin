{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Col, Row, Image, Divider } from \"antd\";\nimport { t } from \"i18next\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport useFetch from \"@common/hooks/useFetch\";\nimport useRenderForm from \"@common/hooks/useRenderFormDetail\";\nimport PATH_URL from \"@common/config/pathURL\";\nimport { formatDateTimeTable } from \"@common/utils/dateHelper\";\nimport { LEVEL_EVENT, TYPE_EVENT, HASH_TAG_EVENT } from \"@common/constant/masterData\";\nimport { IMAGE_URL } from \"@common/config/endpoint\";\nimport { eventApi } from \"@services/apis/eventApi\";\nimport { formateValue } from \"@common/utils/format\";\nimport EventListCmt from \"./EventListCmt\";\nfunction EventDetailItem(_ref) {\n  let {\n    title,\n    data\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Row, {\n    className: \"full-width\"\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    className: \"fw-600 mb-15 text-right pr-5\"\n  }, title, \":\"), /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    className: \"pl-5\"\n  }, data || \"\"));\n}\n_c = EventDetailItem;\nfunction EventDetail() {\n  _s();\n  var _TYPE_EVENT$state$typ, _HASH_TAG_EVENT$state, _state$newLevel, _value$newLevel, _state$courses, _state$courses2;\n  const navigate = useNavigate();\n  const {\n    state\n  } = useLocation();\n  const [carousel, setCarousel] = useState(0);\n  const isEventOutside = state.type === 2;\n  const isEventCycling = state.type === 0;\n  const {\n    value\n  } = useFetch(() => eventApi.getDetailEvents({\n    id: state === null || state === void 0 ? void 0 : state.id\n  }), [state === null || state === void 0 ? void 0 : state.id]);\n  const handlePrev = () => {\n    setCarousel(prevState => prevState - 1);\n  };\n  const handleNext = () => {\n    setCarousel(prevState => prevState + 1);\n  };\n  const handleRenderLimitPeo = () => {\n    if (isEventCycling && state.limit) return `${state.limit}${t(\"events.list.anyPeople\")}`;\n    if (!isEventCycling && state.limit) return `${state.limit}${t(\"events.list.personLottery\")}`;\n    return t(\"events.list.anyQuantity\");\n  };\n  const columnsData = [{\n    title: t(\"events.form.type\"),\n    text: formateValue(formateValue((_TYPE_EVENT$state$typ = TYPE_EVENT[state.type]) === null || _TYPE_EVENT$state$typ === void 0 ? void 0 : _TYPE_EVENT$state$typ.label)),\n    column: 12\n  }, {\n    title: t(\"events.form.nameEvent\"),\n    text: formateValue(state.title),\n    column: 12\n  }, {\n    title: t(\"events.form.dateStartEvent\"),\n    text: state.startDate ? formatDateTimeTable(state.startDate) : \"-\",\n    column: 12\n  }, {\n    title: t(\"events.form.dateEndEvent\"),\n    text: state !== null && state !== void 0 && state.endDate ? formatDateTimeTable(state.endDate) : \"-\",\n    column: 12\n  }, {\n    title: t(\"events.form.position\"),\n    text: formateValue(state.place),\n    column: 12\n  }, {\n    title: t(\"events.form.content\"),\n    text: formateValue(state.description),\n    column: 12\n  }, {\n    title: t(\"events.form.link\"),\n    link: state !== null && state !== void 0 && state.link ? /*#__PURE__*/React.createElement(\"a\", {\n      href: state === null || state === void 0 ? void 0 : state.link\n    }, state === null || state === void 0 ? void 0 : state.link) : \"-\",\n    column: 12\n  }, {\n    title: t(\"events.form.hashtag\"),\n    text: formateValue((_HASH_TAG_EVENT$state = HASH_TAG_EVENT[state === null || state === void 0 ? void 0 : state.hashtag]) === null || _HASH_TAG_EVENT$state === void 0 ? void 0 : _HASH_TAG_EVENT$state.label),\n    column: 12\n  },\n  // not event outside\n  {\n    title: t(\"events.form.runningDistance\"),\n    text: state !== null && state !== void 0 && state.totalDistance ? formateValue(state.totalDistance) : \"---\",\n    column: 12,\n    hidden: !isEventOutside\n  }, {\n    title: t(\"events.form.maxHeight\"),\n    text: state !== null && state !== void 0 && state.maxHeight ? formateValue(state.maxHeight) : \"---\",\n    column: 12,\n    hidden: !isEventOutside\n  }, {\n    title: t(\"events.form.level\"),\n    text: formateValue((state === null || state === void 0 ? void 0 : (_state$newLevel = state.newLevel) === null || _state$newLevel === void 0 ? void 0 : _state$newLevel.name) || (value === null || value === void 0 ? void 0 : (_value$newLevel = value.newLevel) === null || _value$newLevel === void 0 ? void 0 : _value$newLevel.name)),\n    column: 12,\n    hidden: !isEventOutside\n  }, {\n    title: t(\"events.form.limit\"),\n    text: handleRenderLimitPeo(),\n    column: 12,\n    hidden: !isEventOutside\n  }, {\n    title: t(\"events.list.routeName\"),\n    link: state !== null && state !== void 0 && (_state$courses = state.courses) !== null && _state$courses !== void 0 && _state$courses.length ? state === null || state === void 0 ? void 0 : (_state$courses2 = state.courses) === null || _state$courses2 === void 0 ? void 0 : _state$courses2.map((course, i) => /*#__PURE__*/React.createElement(Link, {\n      key: i,\n      className: \"mr-10\",\n      to: `${PATH_URL.MANAGER_COURSE.INDEX}/${PATH_URL.MANAGER_COURSE.DETAIL}`,\n      state: {\n        ...course,\n        mode: \"DETAIL\"\n      }\n    }, course.title)) : \"-\",\n    column: 12,\n    hidden: !isEventOutside\n  }, {\n    title: t(\"events.list.quantityJoined\"),\n    text: `${value === null || value === void 0 ? void 0 : value.totalParticipant} / ${state.limit || t(\"events.list.anyQuantity\")}`,\n    column: 12,\n    hidden: !isEventOutside\n  }, {\n    title: t(\"events.list.termsTitle\"),\n    text: state === null || state === void 0 ? void 0 : state.termsTitle,\n    column: 12,\n    hidden: !isEventOutside\n  }, {\n    title: t(\"events.list.termsContent\"),\n    text: state === null || state === void 0 ? void 0 : state.termsContent,\n    column: 12,\n    hidden: !isEventOutside\n  },\n  // event outside\n  {\n    title: t(\"events.form.coupon\"),\n    text: state.coupon,\n    column: 12,\n    hidden: isEventOutside\n  }, {\n    title: t(\"events.form.couponContent\"),\n    text: state.couponContent,\n    hidden: isEventOutside,\n    column: 12\n  }];\n  const columns = useRenderForm(columnsData, value);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"form-event\"\n  }, /*#__PURE__*/React.createElement(Row, {\n    align: \"middle\",\n    className: \"full-width header-table\"\n  }, /*#__PURE__*/React.createElement(\"h1\", null, t(\"events.detailEvent\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-20\"\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"flex-center mb-15\"\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"avatar\",\n    src: `${IMAGE_URL}${state === null || state === void 0 ? void 0 : state.images[carousel]}/original.jpg`\n  })), (state === null || state === void 0 ? void 0 : state.images) && state.images.length > 1 && /*#__PURE__*/React.createElement(Row, {\n    className: \"flex-center mb-15\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    disabled: !carousel,\n    onClick: handlePrev\n  }, t(\"events.form.btnPrev\")), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    disabled: carousel === state.images.length - 1,\n    onClick: handleNext\n  }, t(\"events.form.btnNext\"))), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(Row, {\n    gutter: [34]\n  }, columns), !isEventOutside && /*#__PURE__*/React.createElement(Row, {\n    className: \"flex-center\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    className: \"mb-10\",\n    onClick: () => navigate(`../${PATH_URL.MANAGER_EVENT.USER_JOIN}`, {\n      state\n    })\n  }, t(\"events.list.btnViewUserJoin\")))), !isEventOutside && /*#__PURE__*/React.createElement(EventListCmt, {\n    id: state === null || state === void 0 ? void 0 : state.id\n  }), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-20 jc-center\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"ml-10 mr-10\",\n    onClick: () => navigate(\"..\")\n  }, t(\"events.form.btnBack\")), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    className: \"ml-10 mr-10\",\n    onClick: e => {\n      e.stopPropagation();\n      navigate(`../${PATH_URL.MANAGER_EVENT.EDIT}`, {\n        state: {\n          ...state,\n          totalParticipant: value === null || value === void 0 ? void 0 : value.totalParticipant\n        }\n      });\n    }\n  }, t(\"events.form.btnEdit\"))));\n}\n_s(EventDetail, \"V1ao7KiJUeO2+s+cNesAulADzpM=\", false, function () {\n  return [useNavigate, useLocation, useFetch, useRenderForm];\n});\n_c2 = EventDetail;\nEventDetail.propTypes = {};\nEventDetailItem.propTypes = {\n  title: PropTypes.string,\n  data: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.array, PropTypes.node])\n};\nexport default EventDetail;\nvar _c, _c2;\n$RefreshReg$(_c, \"EventDetailItem\");\n$RefreshReg$(_c2, \"EventDetail\");","map":{"version":3,"mappings":"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","names":["React","useState","PropTypes","Button","Col","Row","Image","Divider","t","Link","useLocation","useNavigate","useFetch","useRenderForm","PATH_URL","formatDateTimeTable","LEVEL_EVENT","TYPE_EVENT","HASH_TAG_EVENT","IMAGE_URL","eventApi","formateValue","EventListCmt","EventDetailItem","title","data","className","span","EventDetail","navigate","state","carousel","setCarousel","isEventOutside","type","isEventCycling","value","getDetailEvents","id","handlePrev","prevState","handleNext","handleRenderLimitPeo","limit","columnsData","text","label","column","startDate","endDate","place","description","link","href","hashtag","totalDistance","hidden","maxHeight","newLevel","name","courses","length","map","course","i","key","to","MANAGER_COURSE","INDEX","DETAIL","mode","totalParticipant","termsTitle","termsContent","coupon","couponContent","columns","align","src","images","disabled","onClick","gutter","MANAGER_EVENT","USER_JOIN","e","stopPropagation","EDIT","propTypes","string","oneOfType","func","array","node"],"sources":["/home/huynd/animalwatch_admin/src/pages/manager/event/EventDetail.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Col, Row, Image, Divider } from \"antd\";\nimport { t } from \"i18next\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\n\nimport useFetch from \"@common/hooks/useFetch\";\nimport useRenderForm from \"@common/hooks/useRenderFormDetail\";\nimport PATH_URL from \"@common/config/pathURL\";\nimport { formatDateTimeTable } from \"@common/utils/dateHelper\";\nimport {\n  LEVEL_EVENT,\n  TYPE_EVENT,\n  HASH_TAG_EVENT,\n} from \"@common/constant/masterData\";\nimport { IMAGE_URL } from \"@common/config/endpoint\";\nimport { eventApi } from \"@services/apis/eventApi\";\nimport { formateValue } from \"@common/utils/format\";\nimport EventListCmt from \"./EventListCmt\";\n\nfunction EventDetailItem({ title, data }) {\n  return (\n    <Row className=\"full-width\">\n      <Col span={12} className=\"fw-600 mb-15 text-right pr-5\">\n        {title}:\n      </Col>\n      <Col span={12} className=\"pl-5\">\n        {data || \"\"}\n      </Col>\n    </Row>\n  );\n}\n\nfunction EventDetail() {\n  const navigate = useNavigate();\n  const { state } = useLocation();\n  const [carousel, setCarousel] = useState(0);\n  const isEventOutside = state.type === 2;\n  const isEventCycling = state.type === 0;\n\n  const { value } = useFetch(\n    () => eventApi.getDetailEvents({ id: state?.id }),\n    [state?.id],\n  );\n\n  const handlePrev = () => {\n    setCarousel((prevState) => prevState - 1);\n  };\n\n  const handleNext = () => {\n    setCarousel((prevState) => prevState + 1);\n  };\n\n  const handleRenderLimitPeo = () => {\n    if (isEventCycling && state.limit)\n      return `${state.limit}${t(\"events.list.anyPeople\")}`;\n    if (!isEventCycling && state.limit)\n      return `${state.limit}${t(\"events.list.personLottery\")}`;\n\n    return t(\"events.list.anyQuantity\");\n  };\n\n  const columnsData = [\n    {\n      title: t(\"events.form.type\"),\n      text: formateValue(formateValue(TYPE_EVENT[state.type]?.label)),\n      column: 12,\n    },\n    {\n      title: t(\"events.form.nameEvent\"),\n      text: formateValue(state.title),\n      column: 12,\n    },\n    {\n      title: t(\"events.form.dateStartEvent\"),\n      text: state.startDate ? formatDateTimeTable(state.startDate) : \"-\",\n      column: 12,\n    },\n    {\n      title: t(\"events.form.dateEndEvent\"),\n      text: state?.endDate ? formatDateTimeTable(state.endDate) : \"-\",\n      column: 12,\n    },\n    {\n      title: t(\"events.form.position\"),\n      text: formateValue(state.place),\n      column: 12,\n    },\n    {\n      title: t(\"events.form.content\"),\n      text: formateValue(state.description),\n      column: 12,\n    },\n    {\n      title: t(\"events.form.link\"),\n      link: state?.link ? <a href={state?.link}>{state?.link}</a> : \"-\",\n      column: 12,\n    },\n    {\n      title: t(\"events.form.hashtag\"),\n      text: formateValue(HASH_TAG_EVENT[state?.hashtag]?.label),\n      column: 12,\n    },\n    // not event outside\n    {\n      title: t(\"events.form.runningDistance\"),\n      text: state?.totalDistance ? formateValue(state.totalDistance) : \"---\",\n      column: 12,\n      hidden: !isEventOutside,\n    },\n    {\n      title: t(\"events.form.maxHeight\"),\n      text: state?.maxHeight ? formateValue(state.maxHeight) : \"---\",\n      column: 12,\n      hidden: !isEventOutside,\n    },\n    {\n      title: t(\"events.form.level\"),\n      text: formateValue(state?.newLevel?.name || value?.newLevel?.name),\n      column: 12,\n      hidden: !isEventOutside,\n    },\n    {\n      title: t(\"events.form.limit\"),\n      text: handleRenderLimitPeo(),\n      column: 12,\n      hidden: !isEventOutside,\n    },\n    {\n      title: t(\"events.list.routeName\"),\n      link: state?.courses?.length\n        ? state?.courses?.map((course, i) => (\n            <Link\n              key={i}\n              className=\"mr-10\"\n              to={`${PATH_URL.MANAGER_COURSE.INDEX}/${PATH_URL.MANAGER_COURSE.DETAIL}`}\n              state={{ ...course, mode: \"DETAIL\" }}\n            >\n              {course.title}\n            </Link>\n          ))\n        : \"-\",\n      column: 12,\n      hidden: !isEventOutside,\n    },\n    {\n      title: t(\"events.list.quantityJoined\"),\n      text: `${value?.totalParticipant} / ${\n        state.limit || t(\"events.list.anyQuantity\")\n      }`,\n      column: 12,\n      hidden: !isEventOutside,\n    },\n    {\n      title: t(\"events.list.termsTitle\"),\n      text: state?.termsTitle,\n      column: 12,\n      hidden: !isEventOutside,\n    },\n    {\n      title: t(\"events.list.termsContent\"),\n      text: state?.termsContent,\n      column: 12,\n      hidden: !isEventOutside,\n    },\n    // event outside\n    {\n      title: t(\"events.form.coupon\"),\n      text: state.coupon,\n      column: 12,\n      hidden: isEventOutside,\n    },\n    {\n      title: t(\"events.form.couponContent\"),\n      text: state.couponContent,\n      hidden: isEventOutside,\n      column: 12,\n    },\n  ];\n\n  const columns = useRenderForm(columnsData, value);\n\n  return (\n    <div id=\"form-event\">\n      <Row align=\"middle\" className=\"full-width header-table\">\n        <h1>{t(\"events.detailEvent\")}</h1>\n      </Row>\n      <div className=\"ml-20\">\n        <Row className=\"flex-center mb-15\">\n          <Image\n            className=\"avatar\"\n            src={`${IMAGE_URL}${state?.images[carousel]}/original.jpg`}\n          />\n        </Row>\n        {state?.images && state.images.length > 1 && (\n          <Row className=\"flex-center mb-15\">\n            <Button type=\"primary\" disabled={!carousel} onClick={handlePrev}>\n              {t(\"events.form.btnPrev\")}\n            </Button>\n            <Button\n              type=\"primary\"\n              disabled={carousel === state.images.length - 1}\n              onClick={handleNext}\n            >\n              {t(\"events.form.btnNext\")}\n            </Button>\n          </Row>\n        )}\n        <Divider />\n\n        <Row gutter={[34]}>{columns}</Row>\n\n        {!isEventOutside && (\n          <Row className=\"flex-center\">\n            <Button\n              type=\"primary\"\n              className=\"mb-10\"\n              onClick={() =>\n                navigate(`../${PATH_URL.MANAGER_EVENT.USER_JOIN}`, { state })\n              }\n            >\n              {t(\"events.list.btnViewUserJoin\")}\n            </Button>\n          </Row>\n        )}\n      </div>\n\n      {!isEventOutside && <EventListCmt id={state?.id} />}\n\n      <Row className=\"mt-20 jc-center\">\n        <Button className=\"ml-10 mr-10\" onClick={() => navigate(\"..\")}>\n          {t(\"events.form.btnBack\")}\n        </Button>\n        <Button\n          type=\"primary\"\n          className=\"ml-10 mr-10\"\n          onClick={(e) => {\n            e.stopPropagation();\n            navigate(`../${PATH_URL.MANAGER_EVENT.EDIT}`, {\n              state: {\n                ...state,\n                totalParticipant: value?.totalParticipant,\n              },\n            });\n          }}\n        >\n          {t(\"events.form.btnEdit\")}\n        </Button>\n      </Row>\n    </div>\n  );\n}\n\nEventDetail.propTypes = {};\nEventDetailItem.propTypes = {\n  title: PropTypes.string,\n  data: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.array,\n    PropTypes.node,\n  ]),\n};\n\nexport default EventDetail;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}